<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quince Finance</title>
  <link rel="icon" href="/quincefinance480x480.png" sizes="any">
  <script>
    console.log('Before loading GIS script');
  </script>
  <script src="https://accounts.google.com/gsi/client" defer></script>
  <script>
    console.log('After loading GIS script');
  </script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/3.0.8/purify.min.js"></script>
  <script> window.DOMPurify = DOMPurify;  // Ensure it's accessible in module scripts </script>

  <script type="module" src="/src/code.js"></script>
  <link rel="stylesheet" crossorigin href="/src/style.css">
</head>
<body>
  <div class="container">
    <header class="header">
      <button id="google-sign-in">Sign in with Google</button>
      <button id="logout-btn" style="display: none;">Logout</button>
    </header>
    <div class="content-wrapper">
      <aside class="sidebar">
        <h2>Investment Stats</h2>
        <ul id="stats">
          <li>FLR: 100.5</li>
          <li>USDT: 50.0</li>
          <li>Yield: 3.2%</li>
        </ul>
      </aside>
      <main class="chat-container">
        <div id="chat" class="chat"></div>
        <div class="input-container">
          <textarea id="message-input" rows="2" placeholder="Type your command..."></textarea>

           <!-- Microphone Button for Voice Input -->
          <button id="voice-btn-old" type="button">
            ðŸŽ¤
          </button>
          <button id="voice-btn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" id="microphone-icon">
                <path d="M12 14c2.21 0 4-1.79 4-4V5c0-2.21-1.79-4-4-4s-4 1.79-4 4v5c0 2.21 1.79 4 4 4zm0-11c1.1 0 2 .9 2 2v5c0 1.1-.9 2-2 2s-2-.9-2-2V5c0-1.1.9-2 2-2zm3 7v2h-6V10h6zM12 16c-1.1 0-2 .9-2 2v4h4v-4c0-1.1-.9-2-2-2zm4 5h-8v1h8z"/>
            </svg>
          </button>
          <button id="read-out-loud-btn"><img src="speaker-disabled.png" alt="Read Out Loud" id="speaker-icon"></button>

          <div id="send-btn" type="button">
            <svg id="button-arrow" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="stroke-[2] relative">
              <path d="M5 11L12 4M12 4L19 11M12 4V21" stroke="currentColor"></path>
            </svg>
          </div>
        </div>
        <p class="disclaimer">Do not invest more than you can afford to lose.</p>
      </main>
    </div>
  </div>
</body>
</html>